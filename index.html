<meta charset="UTF-16">
<html>
	<body>
		<script src="//cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.0/seedrandom.min.js">
		</script>
		<textarea id='in'onkeyup="encode(this.value)" rows='10' columns='40'>Try it</textarea>
		<textarea id='out' onkeyup="decode" rows='10' columns='40'></textarea><br />
		seed (first letter of original message):
		<textarea maxlength='1' placeholder='T' id='seed' rows='1' cols='2' style="resize:none" ></textarea><br />
		set seed automatically:<input type='checkbox' id='autoseed'>
		
		<script>
			String.prototype.decEncodeRand = function(){
				var hex, i;
				var result = "";
				Math.seedrandom(this[0]);
				for (i=0; i<this.length; i++) {
					//hex = this.charCodeAt(i);
					var outmin=161;
					var outmax=1524;
					var inmin=33;
					var outmin=126;
					rand=floor(Math.random()*(outmax-dis))+this.charCodeAt(i)-inmin+outmin;
					hex = rand.toString();
					result += ('00000'+hex).slice(-5);
					alert(rand);
					alert(randtest);
				}
				return result
			}
			String.prototype.decEncodeUnrand = function(){
				var hex, i;
				var result = "";
				for (i=0; i<this.length; i++) {
					hex = this.charCodeAt(i).toString();
					hex = parseInt(this.charCodeAt(i))+rand;
					result += ('00000'+hex).slice(-5);
				}
				return result
			}
			String.prototype.decDecode = function(){
				var j;
				var hexes = this.match(/.{1,5}/g) || [];
				var back = "";
				for(j = 0; j<hexes.length; j++) {
					back += String.fromCharCode(parseInt(hexes[j], 10));
				}
				return back;
			}
			function encode(t) {
				var r='';
				Math.seedrandom(document.getElementById('seed').value);
				r=t.decEncodeRand().decDecode();
				document.getElementById('out').value = r;
				
				if(t.length!=0){
					document.getElementById('seed').placeholder=t[0];
					if(!document.getElementById('autoseed').checked) {
						document.getElementById('seed').value=t[0];
					}
				} else {
					document.getElementById('seed').placeholder='';
					document.getElementById('seed').value='';
				}
			}
			function decode(t) {
				var r='';
				Math.seedrandom(document.getElementById('seed').value);
			}
		</script>
	</body>
</html>
